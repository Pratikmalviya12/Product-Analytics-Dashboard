@tailwind base;
@tailwind components;
@tailwind utilities;

/* Theme-aware CSS variables */
:root {
  --tooltip-bg: rgba(255, 255, 255, 0.95);
  --tooltip-border: #ccc;
  --tooltip-text: #333;
  --chart-grid: #f0f0f0;
  --chart-text: #666;
}

.dark {
  --tooltip-bg: rgba(31, 41, 55, 0.95);
  --tooltip-border: #6B7280;
  --tooltip-text: #F9FAFB;
  --chart-grid: #4B5563;
  --chart-text: #9CA3AF;
}

/* Enhanced theme-consistent custom utilities */

/* Glass morphism effect utilities */
.glass {
  @apply bg-white bg-opacity-10 backdrop-blur-lg border border-white border-opacity-20;
}

.dark .glass {
  @apply bg-gray-800 bg-opacity-10 border-gray-700 border-opacity-30;
}

.glass-hover {
  @apply hover:bg-white hover:bg-opacity-15;
}

.dark .glass-hover {
  @apply hover:bg-gray-800 hover:bg-opacity-20;
}

.glass-card {
  @apply glass rounded-xl shadow-lg p-6;
}

/* Button variants */
.btn-glass {
  @apply bg-white bg-opacity-10 hover:bg-opacity-20 text-white border border-white border-opacity-20 backdrop-blur-md transition-all duration-300;
}

.btn-primary {
  @apply bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white shadow-lg;
}

/* Card hover effects */
.card-hover {
  @apply transition-all duration-300 hover:transform hover:-translate-y-1 hover:shadow-xl;
}

/* Enhanced scrollbar styling */
::-webkit-scrollbar {
  @apply w-2;
}

::-webkit-scrollbar-track {
  @apply bg-white bg-opacity-5 rounded;
}

.dark ::-webkit-scrollbar-track {
  @apply bg-gray-800 bg-opacity-20 rounded;
}

::-webkit-scrollbar-thumb {
  @apply bg-white bg-opacity-30 rounded hover:bg-opacity-50;
}

.dark ::-webkit-scrollbar-thumb {
  @apply bg-gray-600 bg-opacity-50 rounded hover:bg-opacity-70;
}

/* Focus styles for accessibility */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-transparent;
}

/* Animation utilities */
.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

.animate-slide-up {
  animation: slideUp 0.3s ease-out;
}

@keyframes fadeIn {
  from { 
    opacity: 0; 
  }
  to { 
    opacity: 1; 
  }
}

@keyframes slideUp {
  from { 
    opacity: 0; 
    transform: translateY(10px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* AG Grid theme overrides */
.ag-custom-ag {
  /* sizing */
  --ag-grid-size: 6px;
  --ag-font-size: 12px;
  --ag-header-height: 36px;
  --ag-row-height: 40px;
  --ag-cell-horizontal-padding: 12px;

  /* borders & separators */
  --ag-row-border-style: solid;
  --ag-row-border-width: 1px;
  --ag-header-column-separator: block;
  --ag-header-column-separator-height: 18px;
  --ag-header-column-separator-width: 1px;

  /* colors - light */
  --ag-background-color: #ffffff;
  --ag-foreground-color: #111827; /* gray-900 */
  --ag-border-color: #e5e7eb; /* gray-200 */
  --ag-header-background-color: #f8fafc; /* slate-50 */
  --ag-header-foreground-color: #1f2937; /* gray-800 */
  --ag-odd-row-background-color: #f9fafb; /* gray-50 */
  --ag-row-hover-color: #eef2ff; /* indigo-50 */
  --ag-selected-row-background-color: #e0e7ff; /* indigo-100 */
  --ag-input-focus-border-color: #6366f1; /* indigo-500 */
  --ag-checkbox-checked-color: #10b981; /* emerald-500 */
}

.dark .ag-custom-ag {
  /* colors - dark */
  --ag-background-color: #0f172a; /* slate-900 */
  --ag-foreground-color: #e5e7eb; /* gray-200 */
  --ag-border-color: #374151; /* gray-700 */
  --ag-header-background-color: #111827; /* gray-900 */
  --ag-header-foreground-color: #f3f4f6; /* gray-100 */
  --ag-odd-row-background-color: #0b1220; /* darker */
  --ag-row-hover-color: #1f2937; /* gray-800 */
  --ag-selected-row-background-color: #1f2937; /* gray-800 */
}

/* Strong AG Grid overrides to ensure visible styling */
.ag-custom-ag .ag-header, 
.ag-custom-ag .ag-header-viewport, 
.ag-custom-ag .ag-header-container {
  background-color: var(--ag-header-background-color) !important;
}

.ag-custom-ag .ag-root-wrapper {
  border: 1px solid var(--ag-border-color) !important;
  border-radius: 10px;
  overflow: hidden;
}

/* Zebra rows with explicit colors */
.ag-custom-ag .ag-row-odd .ag-cell {
  background-color: rgba(17, 24, 39, 0.03) !important; /* light zebra */
}
.dark .ag-custom-ag .ag-row-odd .ag-cell {
  background-color: rgba(255, 255, 255, 0.05) !important; /* dark zebra */
}

/* Hover effect */
.ag-custom-ag .ag-row-hover .ag-cell {
  background-color: rgba(99, 102, 241, 0.12) !important; /* indigo */
}

/* Header text weight */
.ag-custom-ag .ag-header-cell-label { font-weight: 700 !important; }

/* Compact cell padding */
.ag-custom-ag .ag-cell { padding: 0 12px !important; }

/* Pagination bar */
.ag-custom-ag .ag-paging-panel { background-color: var(--ag-background-color) !important; }
